# 常见问题

### 关于在CSUOJ上运行的问题:

1. #### 多样例测试

   1. 循环

      在CSUOJ上大部分的题目都会进行多样例测试，这指的是你的输入和输出行为要循环不只一次，解决方案如下:

      ```c
      #include <stdio.h>
      int main(void)
      {
          //你需要设置在循环外的变量
          while(scanf(/*你的输入格式及变量*/)!=EOF)
          {
              //你的主程序
          }
          return 0;
      }
      ```

      > scanf()函式会在每次执行时回传它成功把多少对应的值给了变量，并在接受到EOF(文件结尾)时回传-1，因此检查scanf()!=-1的效果是一样的，更详细正确的内容可以参考如下:
      >
      > https://www.runoob.com/cprogramming/c-function-scanf.html

   2. 换行

      在CSUOJ 上，通常要求每个样例输出只占一行，若是不换行就会过不了，记得修改为循环的格式后，每次样例输出也要换个行。

### C语法格式问题

1. #### switch 

   在使用switch函数时常见以下问题:

   1. 省略case和其后常量之间的空格:

      ```c
      switch(n)
      {
      	case0:
              break;
          case1:
              break;
          dafault:
      }
      ```

      这样写的话，switch会直接执行default，记得一定要有空格:

      ```c
      switch(n)
      {
      	case 0:
              break;
          case 1:
              break;
          default:
      }
      ```

2. #### while循环

   1. 省略大括号

      省略大括号一时爽，之后你就不会爽了，省略大括号会让你的while只循环其后;前的那一部分代码，大部分时候这都不是你想要的行为，以下满天星的代码为例:

      ```c
      while(true)/*只会循环这个部分*/;
      	printf("*");//不会在循环内执行
      ```

      修改如下就会正确运行了:

      ```c
      while(true)
      {
      	printf("*");
      }
      ```

3. #### main内的return

   1. 放错位置

      请参考以下案例:

      ```c
      int main(void)
      {
      	return 0;
          printf("test");
      }
      ```

      在这种情况下，"test"是不会被输出的，主函数(就是main那个东东)会在你return之后立刻结束执行，通常这种错误会犯在同学把程序修改成用while(scanf()!=EOF)的格式后，不小心把return包进了while循环裡。

4. #### scanf 函数

   1. 忘记在参数变量前加&

      你不该犯这个错误。(字符串例外，不需要加)

      ```c
      scanf("%d",n);//棒棒糖
      ```

   2. 忘记逗号

      ```c
      scanf("%d"n);//棒棒糖?
      ```

5. #### printf 函数

   1. 加了&

      ```c
      printf("%d",&n);
      ```

   2. 拼写错误

      ```c
      print("%d",n);
      ```

### C程序设计问题

1. 变量放错位置/需要在每次循环重置的变量没有重置

   1. 这个问题通常发生在同学们将程序修改成while(scanf()!=EOF)的格式之后，提交太多次的话在排名上难免看起来不好看，记得上传之前都先在本地端多测试几组样例，看看是否有正确的重置。

      以下为例:

      ```c
      #include <stdio.h>
      //输出n!
      int main(void)
      {
          int n;
        	int sum = 1;
          scanf("%d",&n);
          for(int i=1;i=<n;i++)
          {
              sum*=i;
          }
          printf("%d",sum);
          return 0;
      }
      ```

      通常修改后会犯的错误:

      ```c
      #include <stdio.h>
      //输出n!
      int main(void)
      {
          int n;
        	int sum = 1;
          while(scanf("%d",&n)!=EOF)
          {
              for(int i=1;i=<n;i++)
              {
                  sum*=i;
              }
         		printf("%d",sum);
          }
          return 0;
      }
      ```

      通常这种时候，同学就会到群裡面问:

      > 为什麽第一次跑的时候是对的，之后都错了?

      我们观察一下这个程序的行为，会发现，在第一个while循环时，sum的确是我们想要的1，但当他进入下一次循环，sum已经是上一次的n!了，结果自然不会对。

      修改如下即可:

      ```c
      #include <stdio.h>
      //输出n!
      int main(void)
      {
          int n;
          while(scanf("%d",&n)!=EOF)
          {
           	int sum = 1;
              for(int i=1;i=<n;i++)
              {
                  sum*=i;
              }
         		printf("%d",sum);
          }
          return 0;
      }
      ```
